MODULE MOD_WRF
  USE MOD_BULK
  USE MOD_SURFACEFORCE
  USE all_vars
  USE MOD_UTILS
  USE MOD_NCTOOLS
  USE MOD_PAR
  implicit none
  
  
  
  
CONTAINS
  
  

  SUBROUTINE LOAD_WRF(FNAME)
    USE MOD_FORCE
    IMPLICIT NONE
    CHARACTER(LEN=*), INTENT(IN) :: FNAME
    TYPE(NCFILE), POINTER :: NCF


    HEATING_ON = .TRUE.
    WIND_ON    = .TRUE.
    PRECIPITATION_ON = .TRUE.

    HEATING_FILE = FNAME
    WIND_FILE    = FNAME
    PRECIPITATION_FILE = FNAME

    CALL  NC_INIT(NCF,FNAME)

    ! OPEN THE FILE AND LOAD METADATA
    if(.not. NCF%OPEN) then
       Call NC_OPEN(NCF)
       CALL NC_LOAD(NCF)
       FILEHEAD => ADD(FILEHEAD,NCF)
    end if

  END SUBROUTINE LOAD_WRF
  


  SUBROUTINE UPDATE_WRF
    IMPLICIT NONE

  END SUBROUTINE UPDATE_WRF



END MODULE MOD_WRF
